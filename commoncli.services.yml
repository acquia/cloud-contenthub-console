services:
  http_client_factory.acquia_cloud:
    class: Acquia\Console\Cloud\Client\AcquiaCloudClientFactory
    public: true

  #  Platforms
  platform.acquia.cloud:
    class: Acquia\Console\Cloud\EventSubscriber\Platform\PlatformSubscriberAcquiaCloud
    arguments: ['@http_client_factory.acquia_cloud']
    tags:
      - { name: kernel.event_subscriber }
  platform.acquia.cloud.multi_site:
    class: Acquia\Console\Cloud\EventSubscriber\Platform\PlatformSubscriberAcquiaCloudMultiSite
    arguments: ['@http_client_factory.acquia_cloud']
    tags:
      - { name: kernel.event_subscriber }

  #  Commands
  command.ace.database.backup.create:
    class: Acquia\Console\Cloud\Command\DatabaseBackup\AcquiaCloudDatabaseBackupCreate
    public: true
    arguments: ['@event_dispatcher']
    tags:
      - { name: common_console_command }
  command.ace.database.backup.list:
    class: Acquia\Console\Cloud\Command\DatabaseBackup\AcquiaCloudDatabaseBackupList
    public: true
    arguments: ['@event_dispatcher']
    tags:
      - { name: common_console_command }
  command.ace.database.backup.restore:
    class: Acquia\Console\Cloud\Command\DatabaseBackup\AcquiaCloudDatabaseBackupRestore
    public: true
    arguments: ['@event_dispatcher']
    tags:
      - { name: common_console_command }
  command.ace.database.backup.delete:
    class: Acquia\Console\Cloud\Command\DatabaseBackup\AcquiaCloudDatabaseBackupDelete
    public: true
    arguments: ['@event_dispatcher']
    tags:
      - { name: common_console_command }
  command.ace.cron_list:
    class: Acquia\Console\Cloud\Command\AcquiaCloudCronList
    public: true
    arguments: ['@event_dispatcher']
    tags:
      - { name: common_console_command }
  command.ace.cron_create:
    class: Acquia\Console\Cloud\Command\AcquiaCloudCronCreate
    public: true
    arguments: ['@event_dispatcher']
    tags:
      - { name: common_console_command }
  command.ace.cron_create.multi_site:
    class: Acquia\Console\Cloud\Command\AcquiaCloudCronCreateMultiSite
    public: true
    arguments: ['@event_dispatcher']
    tags:
      - { name: common_console_command }
  command.ace.cron_check:
    class: Acquia\Console\Cloud\Command\AcquiaCloudCronCheck
    public: true
    arguments: ['@event_dispatcher']
    tags:
      - { name: common_console_command }
  command.ace.multi_sites:
    class: Acquia\Console\Cloud\Command\AcquiaCloudMultiSites
    public: true
    tags:
      - { name: common_console_command }
