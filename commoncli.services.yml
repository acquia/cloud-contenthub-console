services:
  http_client_factory.acquia_cloud:
    class: Acquia\Console\Cloud\Client\AcquiaCloudClientFactory
    public: true

  #  Platforms
  platform.acquia.cloud:
    class: Acquia\Console\Cloud\EventSubscriber\Platform\PlatformSubscriberAcquiaCloud
    arguments: ['@http_client_factory.acquia_cloud']
    tags:
      - { name: kernel.event_subscriber }
  factory.platform.ace:
    class: Acquia\Console\Cloud\Platform\Factory\AcquiaCloudPlatformFactory
    arguments: ['@http_client_factory.acquia_cloud', '@platform.storage']
    public: true

  #  Commands
  command.ace.initialize:
    class: Acquia\Console\Cloud\Command\ContentHubAcquiaCloudInit
    public: true
    arguments: ['@event_dispatcher']
    tags:
      - { name: common_console_command }
  command.ace.database.backup.create:
    class: Acquia\Console\Cloud\Command\DatabaseBackup\AcquiaCloudDatabaseBackupCreate
    public: true
    arguments: ['@event_dispatcher']
    tags:
      - { name: common_console_command }
  command.ace.database.backup.list:
    class: Acquia\Console\Cloud\Command\DatabaseBackup\AcquiaCloudDatabaseBackupList
    public: true
    arguments: ['@event_dispatcher']
    tags:
      - { name: common_console_command }
  command.ace.database.backup.restore:
    class: Acquia\Console\Cloud\Command\DatabaseBackup\AcquiaCloudDatabaseBackupRestore
    public: true
    arguments: ['@event_dispatcher']
    tags:
      - { name: common_console_command }
  command.ace.database.backup.delete:
    class: Acquia\Console\Cloud\Command\DatabaseBackup\AcquiaCloudDatabaseBackupDelete
    public: true
    arguments: ['@event_dispatcher']
    tags:
      - { name: common_console_command }
